# 划词翻译插件UI需求文档

## 1. 设计原则

### 1.1 总体风格

- **极简主义**: 遵循极简设计原则，参考[Anthony Fu的个人网站](https://antfu.me/)
- **无干扰**: 界面元素应当尽量减少对阅读的干扰
- **功能优先**: 确保用户可以快速高效地完成核心操作
- **一致性**: 所有UI元素保持一致的视觉语言和交互模式
- **适应性**: 支持亮色/暗色模式，适应用户的系统设置

### 1.2 色彩方案

- **主色调**: 使用低饱和度的中性色系
  - 亮色模式: `#f9fafb`(背景), `#374151`(文字)
  - 暗色模式: `#1f2937`(背景), `#e5e7eb`(文字)
- **强调色**: 使用少量高对比度的色彩作为强调
  - 主要强调色: `#3b82f6`(蓝色)
  - 收藏按钮: `#f59e0b`(黄色)
- **功能色**:
  - 成功: `#10b981`
  - 警告: `#f59e0b`
  - 错误: `#ef4444`
  - 信息: `#3b82f6`

### 1.3 排版

- **字体**: 系统默认无衬线字体栈
  ```css
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  ```
- **字号**:
  - 正文: 14px (0.875rem)
  - 标题: 16px (1rem)
  - 次要文本: 12px (0.75rem)
- **行高**: 1.5
- **字重**:
  - 正常: 400
  - 半粗: 500
  - 粗体: 600

### 1.4 间距

- 采用 4px 为基础单位的间距系统
- 内边距(Padding): 12px(0.75rem)
- 外边距(Margin): 16px(1rem)
- 组件之间的间距: 8px(0.5rem)
- 边框半径: 6px(0.375rem)

## 2. 组件设计

### 2.1 划词图标

- **尺寸**: 32px x 32px
- **样式**: 圆形半透明背景，内含翻译图标
- **位置**: 显示在选中文本上方或右侧，避免遮挡文本
- **悬停效果**: 微小缩放和不透明度变化
- **图标**: 使用 Lucide 的 `Languages` 或 `Globe` 图标

![划词图标示意](https://placeholder.com/32x32)

### 2.2 翻译结果弹窗

- **尺寸**: 最小宽度 280px，最大宽度 400px，高度自适应
- **布局**:
  - 顶部: 原文和工具栏
  - 中部: 翻译结果
  - 底部: 操作按钮

```
┌────────────────────────────┐
│ Selected Text              │
│ ─────────────────────────  │
│                            │
│ Translation Result         │
│                            │
│ ⭐ 📤 🔊  │  DeepSeek ▼     │
└────────────────────────────┘
```

- **边框**: 细边框或阴影，边框半径 6px
- **背景**: 半透明背景，适应亮/暗模式
- **动画**: 淡入淡出效果，持续时间 200ms

### 2.3 操作按钮

- **样式**: 使用图标按钮，无背景，仅在悬停时显示淡色背景
- **尺寸**: 24px x 24px
- **图标库**: Lucide Icons
- **交互**: 点击时有轻微视觉反馈
- **常用按钮**:
  - 收藏按钮: `Star` 图标
  - 复制按钮: `Copy` 图标
  - 发音按钮: `Volume2` 图标
  - 服务切换: 下拉菜单

### 2.4 生词高亮

- **样式**: 底部细线条高亮，不影响文本可读性
- **颜色**: 使用主要强调色，透明度 30-40%
- **悬停效果**: 底色略微加深，显示小提示图标
- **点击行为**: 点击高亮词显示翻译弹窗

```
普通文本中的生词会有这样的下划线
              ^^^^^^^^
```

### 2.5 设置页面

- **布局**: 简洁的单栏设计，分组展示设置项
- **控件**:
  - 开关: 简约的切换开关
  - 颜色选择器: 预设颜色块+自定义选项
  - 下拉菜单: 简洁的选择列表
  - 文本输入: 最小化的输入框
- **分组**: 按功能划分设置组，如"常规"、"翻译服务"、"生词本"等

## 3. 交互设计

### 3.1 选中文本

- 用户选中文本后，短暂延迟(约300ms)后显示划词图标
- 如设置了自动翻译，则直接显示翻译窗口
- 图标位置应避免遮挡选中的文本

### 3.2 弹窗交互

- 点击页面空白区域关闭弹窗
- 弹窗可拖动(可选功能)
- 弹窗四周保留足够的内边距
- 内容超出可见区域时，内部滚动

### 3.3 生词本交互

- 收藏按钮点击后立即变色，提供即时反馈
- 对已收藏的词，显示已收藏状态
- 可从弹窗中快速访问最近收藏的生词

### 3.4 服务切换

- 下拉菜单中列出可用的翻译服务
- 当前选中的服务显示对勾标记
- 切换后立即重新翻译当前内容

## 4. 响应式设计

- 在小屏幕设备上自动调整弹窗大小
- 优化触摸屏交互，增大触摸目标尺寸
- 在移动设备上弹窗固定在屏幕底部，提升易用性

## 5. 可访问性

- 颜色对比度符合WCAG AA标准
- 支持键盘导航和操作
- 添加适当的ARIA标签
- 考虑屏幕阅读器兼容性

## 6. 动画与过渡

- 所有动画应简洁、流畅、目的明确
- 动画持续时间控制在200-300ms之间
- 提供动画关闭选项，照顾对动画敏感的用户

## 7. UI 元素规格

### 7.1 划词图标
- 尺寸: 32px x 32px
- 背景: 圆形, rgba(0,0,0,0.1) 亮色模式 / rgba(255,255,255,0.1) 暗色模式
- 图标: Lucide 'Globe', 颜色与文字颜色相同
- 悬停状态: 背景不透明度增加到 0.2

### 7.2 翻译弹窗
- 宽度: 320px (可根据内容调整)
- 最大高度: 400px
- 边框: 1px solid rgba(0,0,0,0.1) / 暗色模式对应值
- 圆角: 6px
- 阴影: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06)
- 背景: rgba(255,255,255,0.98) / rgba(31,41,55,0.98)

### 7.3 按钮
- 尺寸: 32px x 32px
- 图标尺寸: 16px x 16px
- 边距: 内边距 8px
- 悬停背景: rgba(0,0,0,0.05) / rgba(255,255,255,0.05)
- 活跃状态: 使用对应功能色

## 8. 设计资源

- 使用 Tailwind CSS 实现所有样式
- 使用 Lucide Icons 作为图标库
- 确保所有UI设计符合[Anthony Fu网站](https://antfu.me/)的极简美学